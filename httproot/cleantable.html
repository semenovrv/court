<!DOCTYPE html />
<html>
<head>
<meta charset="UTF-8"/>
	<script src="js/jquery/jquery-3.1.1.min.js"></script>
	<script src="js/main.js"></script>
<style>
div.row{display:table-row;}	
div.row>span{display:table-cell;border-bottom:1px solid;border-right:1px solid;}
div.row>span:first-child{border-right-width:2px;}
div.temp{display:none;}

.vert>span{
  transform:rotate(270deg); /* Opera */
	white-space: nowrap;
	transform-origin: 0 0;
	position:absolute;
	display:block;
	left:50%;
}
.vert{
	min-width: 2em;
	max-width:2em;
	vertical-align: bottom;
	position:relative;
}
div.head .vert{min-height:8em;}
div.head>span{border-bottom-width:2px;}

.hor{vertical-align:bottom;}

div.row>span:first-child{
    width:1%;
}
html,body{width:100%;height:100%;}
body{margin:0;}
</style>
</head><body>
<div style="display:table;width:100%;height:100%;border-left:1px solid;border-top:1px solid;" id="main">
<div class="head row">
	<span class="hor" width="1%"><form name="dateform">
		<input	name="zoom"		type="number" inputmode="numeric" size="2"/>
		<input	name="first"	type="date" inputmode="numeric" placeholder="первый день"/>
		<input	name="last"		type="date" inputmode="numeric" placeholder="посл. день"/>
	</form></span>

	<span class="vert"><span>зал</span></span>
	<span class="vert"><span>корт лев.</span></span>
	<span class="vert"><span>корт прав.</span></span>
	<span class="vert"><span>вестибюль</span></span>
	<span class="vert"><span>разд. М</span></span>
	<span class="vert"><span>разд. Ж</span></span>
	<span class="vert"><span>трибуна</span></span>
	<span class="vert"><span>снег</span></span>
	<span class="vert"><span>ремонт</span></span>
</div>
</div>

<div class="row temp">
	<span class="hor">&nbsp;</span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
	<span class="vert"></span>
</div>

<script>
(function(form){
var elel=form.elements,first;
	function dchange(){
	var	ll=new Date(elel['last'].value).setHours(23,59,59,999);
		$('#main>.row').not('.head').remove();
		for(var el,dt=new Date(elel['first'].value);dt<ll;dt=new Date(new Date(dt).setDate(dt.getDate()+1)))
			$('.temp').clone().removeClass('temp').appendTo('#main')[0].children[0].innerHTML=localDayString(dt)
	}
	
	$(elel['first']).val(localDayString(new Date())).on('change',dchange)
	$(elel['last']).val(localDayString(new Date(new Date().setDate(new Date().getDate()+14)))).on('change',dchange).trigger('change')
	$(elel['zoom']).on('keypress',function(evt){if((evt.keyCode?evt.keyCode:evt.which)==13){
		document.body.style.zoom=this.value+'%';
		//document.body.style.transform ='scale('+(this.value/100)+')';
		print();
		return false;
	}})
	
})(document.dateform);
</script>	
</body></html>
