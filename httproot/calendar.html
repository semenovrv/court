<html>
<head>
<script type="text/javascript">
		
function Calendar(id){var  dt=new Date(),self=Object.assign(this,{
 'id':			id
,'DaysOfWeek':	['пн','вт','ср','чт','пт','сб','вс']
,'Months':		['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь']
,'CurrentMonth':	dt.getMonth()
,'CurrentYear':	dt.getFullYear()
})};

Object.assign(Calendar.prototype,{
 'nextMonth':		function(){return Object.assign(this,this.CurrentMonth==11?{'CurrentMonth':0,'CurrentYear':this.CurrentYear+1}:{'CurrentMonth':this.CurrentMonth+1}).showCurrent()}
,'previousMonth':	function(){return Object.assign(this,this.CurrentMonth==0?{'CurrentMonth':11,'CurrentYear':this.CurrentYear-1}:{'CurrentMonth':this.CurrentMonth-1}).showCurrent()}
,'showCurrent':		function(){return this.showMonth(this.CurrentYear,this.CurrentMonth)}
,'showMonth':		function(yy,mm){
					var	 self=this
						,day=dd=>(new Date(yy,mm,dd).getDay()||7)-1
						,last=mm=>new Date(yy,mm+1,0).getDate()
						,cell=(text,cl)=>'<span'+(cl?(' class="'+cl+'"'):'')+'>'+text+'</span>'
						,html = '<div class="header">'+cell('<<','prev')+cell(self.Months[mm]+' - '+yy,'mtitle')+cell('>>','next')+'</div>'
								+'<div class="frame">'
								+'<div><div>'+this.DaysOfWeek.reduce((ln,nn)=>ln+=cell(nn),'')+'</div></div><div class="days">';
								
					(day=>{if(day){
									html+='<div class="week">';
					(ii=>{	for(var dow=0;dow<day;dow++)
									html+=cell(ii++,'not-current')})(last(mm-1)-day+1)}})(day(1));// First day of month
							for(var ii=1;ii<=last(mm);ii++)switch(day(ii)){
							case 6:	html+=cell(ii)+'</div>';break;
							case 0: html+='<div class="week">';
							default:html+=cell(ii)}
							console.log(ii,day(ii));
					(dow=>{if(dow){
							for(var ii=1;dow<=6;dow++)
									html+=cell(ii++,'not-current');
									html+='</div>';}})(day(ii));
									html+='</div>';
									
					document.getElementById(self.id).innerHTML = html;
					[].forEach.call(document.querySelectorAll('.frame>.days>*>*'),cc=>cc.addEventListener('click',_=>cc.classList.toggle('selected')));
					(function(sel,fn){document.querySelector(sel).addEventListener('click',fn);return arguments.callee})
						('.next',_=>self.nextMonth())
						('.prev',_=>self.previousMonth())
					return self;
					}
});
		
window.onload=_=>new Calendar('calendar').showCurrent();
		
</script>
<style type="text/css">
#calendar{display:flex;flex-direction:column;}
 .frame{display:table;border:1px solid black;}
 .frame>*{display:table-row-group;}
 .frame>*>*{display:table-row;}
 .frame>*>*>*{display:table-cell;padding:.2em;}
 span.not-current{color: #777;}
 span:hover{background-color:#eeeeee;}
 span.selected{background-color:#8888ff;}
 #span.prev{float:left;}
 #span.next{float:right;}
 span.mtitle{text-align:center;width:100%;}
 div.header{border:1px solid black;}
</style>
	
	
</head>
<body>
	<div id="calendar"></div>
</body>
</html>
